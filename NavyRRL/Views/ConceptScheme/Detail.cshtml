@using Models.Schema;
@using Models.DTO;
@model ConceptScheme
@{
	ViewBag.Title = "Concept Scheme: " + Model.Name;
}

@Html.Partial( "~/Views/Shared/_DetailShared.cshtml" )
@Html.Partial( "~/Views/Shared/_DetailBasicInfo.cshtml", new DetailBasicInfoHelper()
{
	TypeLabel = "Concept Scheme",
	TypeURL = Model.GetType().Name.ToLower(),
	Id = Model.Id,
	CTID = Model.CTID,
	Name = Model.Name,
	Description = Model.Description,
	Identifiers = new List<NamedString>()
	{
		new NamedString( "System ID", Model.Id.ToString() ),
		new NamedString( "CTID", Model.CTID )
	}
} )


@if ( Model.Concepts?.Count() > 0 )
{
	<style type="text/css">
		.conceptListHeader { display: flex; align-items: center; }
		.conceptListHeader .newConceptLink { font-size: 14px; margin-left: auto; padding: 0 10px; }
	</style>
	<div class="section">
		<h3 class="conceptListHeader sectionHeader">Concepts <a class="newConceptLink" href="@Url.Content( "~/Concept/Edit/0?InScheme=" + Model.RowId )">Add New Concept</a></h3>
		<table class="conceptsTable">
			<thead>
				<tr>
					<th style="width: 30%">Name</th>
					<th style="width: 15%">Coded Notation</th>
					<th style="width: 20%">Work Element Type</th>
					<th>Description</th>
				</tr>
			</thead>
			<tbody>
				@foreach ( var item in Model.Concepts.ToList() )
				{
					<tr>
						<td><a href="@Url.Content( "~/Concept/Detail/" + item.Id )">@item.Name</a></td>
						<td>@item.CodedNotation</td>
						<td>@item.WorkElementType</td>
						<td>@item.Description</td>
					</tr>
				}
			</tbody>
		</table>
	</div>	
}
